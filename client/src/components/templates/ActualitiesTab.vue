<template>
  <div class="actuality-box border-t  border-black ">
    <div class="flex justify-between border-r  border-black">
      <!-- Tab Buttons -->
      <div
        v-for="(actuality, index) in actualities"
        :key="index"
        @click="$emit('tab-click', index)"
        :class="['flex-1 items-center text-center px-4 py-2 cursor-pointer border-l  border-black', activeTab === index ? 'bg-blue text-white' : 'text-gray-500']"
      >
        {{ index + 1 }}.
      </div>
    </div>

    <!-- Tab Content -->
    <div class="tab-content border-x border-b border-black">
      <div class="" v-for="(actuality, index) in actualities" :key="index" v-show="activeTab === index">
        <h2 class="text-lg font-bold p-4 uppercase italic bg-blue text-white">{{ actuality.title }}</h2>
        <div class="p-4">
          <p class="text-gray-600">{{ actuality.summary }}</p>
          <p class="text-gray-600">{{ actuality.body }}</p>
          <p class="text-gray-600">{{ actuality.tag }}</p>
        </div>

        <router-link v-if="canModify" :to="{ name: 'EditActuality', params: { post_id: post.id, id: actuality.id } }">
          <button class="pointer px-4 py-2 bg-yellow-500 text-white rounded-md hover-bg-yellow-600">
            Edit
          </button>
        </router-link>
        <button
          v-if="canModify"
          @click="deleteActuality(actuality.id)"
          class="px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600"
        >
        Delete
      </button>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  props: {
    actualities: Array,
    activeTab: Number,
    post: Object,
    canModify: {
      type: Boolean,
      default: false,
    },
  },
  methods: {
    deleteActuality(actualityId) {
      this.$emit('delete-actuality', actualityId);
    },
  },
};
</script>
